<html>

<head>
	<meta charset="UTF-8">
	<link rel="shortcut icon" href="/favicon.ico" />
	<meta name="description" content="Estudando...">
	<meta name="keywords" content="HTML, CSS, JavaScript, Java, Spring Boot">
	<meta name="author" content="Welyqrson B Amaral">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>

	<button onclick="buscar()">Buscar categorias</button>
	<br />
	<br />
	<button onclick="enviar()">Buscar access token</button>

	<script>
		function printResponse() {
			console.log(this.responseText);
		}

		function buscar() {
			var req = new XMLHttpRequest();
			req.addEventListener("load", printResponse);
			req.open("GET", "http://localhost:8080/categorias");

			req.send();
		}
		function enviar() {
			var req = new XMLHttpRequest();
			req.addEventListener("load", printResponse);
			req.open("POST", "http://localhost:8080/oauth/token");
			req.setRequestHeader("Authorization", "Basic YW5ndWxhcjpAbmd1bEByMA==");
			req.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");

			req.send("client_id=angular&username=admin&password=admin&grant_type=password");
		}		
	</script>

	<!-- 
	Aula -> 6.9. O que é CORS?
	
	Quando tentei executar recebi o erro:
	$ python -m SimpleHTTPServer
    python: No module named SimpleHTTPServer
	
	Correção:
        Note that on some machines python redirects to python 2 and on some others to python 3, 
        so if you want a command that always works use:
            - python3 -m http.server <port>
            - python2 -m SimpleHTTPServer <port> 
 
    -->
</body>

</html>